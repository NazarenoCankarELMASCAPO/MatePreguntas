<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="favicon" type="image/x-icon" href="../../favicon.ico"/>
        <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <link rel="stylesheet" href="../styles.css">
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Mate preguntas</title>
    
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.min.js"></script>
    </head>
<body style="overflow: hidden;">
    <img src="" alt="" class="d-block mx-auto mt-1 mb-5 image" width="400">

        <div class="card mx-auto my-3" style="width: 13.5em;">
          <div class="card-body">
            <div class="form-group d-flex justify-content-center flex-column gap-3">
              <label for="nombre">Tu nombre:</label>
              <input style="width: 12em;" type="text" class="form-control" id="nombre" value="" name="nombre" placeholder="Ingrese su nombre">
              <button id="ok" class="m-1 btn btn-success text-white fw-bold rounded-2">Subir puntaje</button>
            </div>
          </div>
        </div>

    <div class="text-center">
        <a href="../../matepreguntas.html"><button class="btn btn-primary fw-bold" id="button">Volver a jugar</button></a>
    </div>

    <p id="message" class="d-block mx-auto mt-1 text-white text-center p-2 rounded-2 fw-bold" style="width: 45%;"></p>
    <script src="../scripts/final.js"></script>
    <script src="../scripts/ranking.js"></script>
    <script>
        let canClick = true
        document.getElementById("ok").addEventListener("click", async () => {
            if(document.getElementById("nombre").value === "" || !canClick) return
            else {
                await createUser(document.getElementById("nombre").value, parseInt(localStorage.getItem("points")))
                canClick = false
                Swal.fire({
                    title: "Puntaje subido",
                    text: `${document.getElementById("nombre").value} : ${parseInt(localStorage.getItem("points")}`
                })
            }
        })
    </script>
</body>
</html>
